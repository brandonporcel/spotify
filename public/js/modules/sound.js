export function sound(){const e=document,t=e.getElementById("info-name"),l=e.getElementById("add-files"),r=e.getElementById("next-btn"),o=e.getElementById("prev-btn"),n=e.getElementById("play-btn"),a=e.getElementById("pause-btn"),c=e.getElementById("audio-added"),s=e.getElementById("track-list"),u=e.querySelector(".progress"),i=e.querySelector(".playback__progress-text"),m=e.querySelector(".playback__duration"),v=e.getElementById("btn-auto-track"),d=e.getElementById("volume-bar"),y=[];let L=[];const _=[];let p=0,f=0,h=!1;const b=()=>{d.value=.2,c.volume=d.value,c.play(),t.classList.add("active"),t.innerText=`${y[p].archivo.name}`,setInterval(()=>{let e=parseInt(c.currentTime,10);e%=3600;const t=Math.floor(e/60);let l=e%60;l<10&&(l=`0${l}`),i.innerHTML=`${t}:${l}`,f=Math.round(100*c.currentTime/c.duration)},1e3),m.innerHTML=`${Math.floor(c.duration/60)}:${Math.floor(c.duration%60)}`,setInterval(()=>{u.style.width=`${parseInt(100*c.currentTime/c.duration,10)}%`},400)},g=()=>{(p+=1)>y.length-1&&(p=0),c.src=y[p].url,b()};setInterval(()=>{100===f&&g(),"NaN:NaN"===m.innerHTML&&(m.innerHTML=`${Math.floor(c.duration/60)}:${Math.floor(c.duration%60)}`)},1e3);n.addEventListener("click",b),l.addEventListener("change",()=>{for(let e=0;e<l.files.length;e+=1){const t=URL.createObjectURL(l.files[e]);y.push({archivo:l.files[e],url:t}),_.push({musica:l.files[e],posicion:p}),p+=1,s.innerHTML+=`\n\t\t\t<option value="${y[e].archivo.name}" class="tracklist__name" >${y[e].archivo.name}</option>\n\t\t\t`}L=e.querySelectorAll(".tracklist__name"),p=0,c.src=y[p].url}),a.addEventListener("click",()=>{c.pause()}),v.addEventListener("click",()=>{!1===h?(c.setAttribute("loop",""),e.querySelector(".control-btn-repeat").classList.add("active"),h=!0):(h=!1,e.querySelector(".control-btn-repeat").classList.remove("active"),c.removeAttribute("loop"))}),d.addEventListener("change",t=>{c.volume=t.target.value,0===c.volume&&(e.querySelector(".control__btn-volume").classList.remove("fa-volume-up"),e.querySelector(".control__btn-volume").classList.remove("fa-volume-down"),e.querySelector(".control__btn-volume").classList.add("fa-volume-mute")),c.volume<=.5&&c.volume>0&&(e.querySelector(".control__btn-volume").classList.remove("fa-volume-mute"),e.querySelector(".control__btn-volume").classList.remove("fa-volume-up"),e.querySelector(".control__btn-volume").classList.add("fa-volume-down")),c.volume>.5&&(e.querySelector(".control__btn-volume").classList.remove("fa-volume-down"),e.querySelector(".control__btn-volume").classList.remove("fa-volume-mute"),e.querySelector(".control__btn-volume").classList.add("fa-volume-up"))}),r.addEventListener("click",()=>{(p+=1)>y.length-1&&(p=0),c.src=y[p].url,b()}),o.addEventListener("click",()=>{(p-=1)<0&&(p=y.length-1),c.src=y[p].url,b()}),e.querySelector("#track-list").addEventListener("change",()=>{for(let l=0;l<L.length;l+=1)e.querySelector("#track-list").value===y[l].archivo.name&&(c.src=y[l].url,t.innerText=`${y[l].archivo.name}`,p=l),b()}),g()}